import{w as j}from"./index.7ed2df3d.js";import{ao as S,ap as f}from"./index.eaa2c7e1.js";function g(){const n=Symbol();return{getContext:()=>S(n),setContext:i=>f(n,i)}}function h(n){return Object.entries(n)}function m(...n){return[...new Set(n.flatMap(Object.keys))]}function K(n){const i=g();return{...i,setContext:c=>{const w=m(n??{},c??{}),u=j(w.reduce((o,r)=>((n==null?void 0:n[r])!==void 0&&(o[r]=n[r]),o),{})),C=o=>{u.update(r=>{const s=o(r),b=m(n??{},s??{}).reduce((e,t)=>(s[t]===void 0&&(n==null?void 0:n[t])!==void 0?e[t]=n[t]:e[t]=s[t],e),{});return h(b).forEach(([e,t])=>{if(c){const x=e in c?c[e]:void 0;x==null||x(t)}}),b})},p={...u,set:o=>{C(()=>o)},update:C};return i.setContext(p),p},defaults:n}}export{K as r,g as u};
