import{r as P,d as A,w as p}from"./index.7ed2df3d.js";import{an as T}from"./index.eaa2c7e1.js";const L=(e,s)=>P(matchMedia(e).matches,r=>{matchMedia(e).addEventListener("change",n=>r(n.matches))}),Z=L("(prefers-color-scheme: dark)");function Q(e,s,r,n){var c,o,l=!1,v=r.length>=2,w=(t,a,u)=>{if(c=a,v&&(o=t),!l){let d=s(t,a,u);if(s.length<2)a(d);else return d}l=!1},y=A(e,w,n),D=!Array.isArray(e);function S(t){var a=r(t,o);D?(l=!0,e.set(a)):a.forEach((u,d)=>{l=!0,e[d].set(u)}),l=!1}var _=!1;function b(t){var a,u,d,m;if(_){m=t(T(y)),c(m);return}var V=y.subscribe(E=>{_?a?u=!0:a=!0:d=E});m=t(d),_=!0,c(m),V(),_=!1,u&&(m=T(y)),a&&S(m)}return{subscribe:y.subscribe,set(t){b(()=>t)},update:b}}const B=20,f=p([]),k=p(null),h=new Map,M=e=>{if(h.has(e))return;const s=setTimeout(()=>{h.delete(e),R(e)},1e3);h.set(e,s)},W=e=>{const s=h.get(e);s&&clearTimeout(s)};function j(e){e.id&&W(e.id),f.update(s=>s.map(r=>r.id===e.id?{...r,...e}:r))}function C(e){f.update(s=>[e,...s].slice(0,B))}function H(e){T(f).find(s=>s.id===e.id)?j(e):C(e)}function I(e){f.update(s=>(e?M(e):s.forEach(r=>{M(r.id)}),s.map(r=>r.id===e||e===void 0?{...r,visible:!1}:r)))}function R(e){f.update(s=>e===void 0?[]:s.filter(r=>r.id!==e))}function $(e){k.set(e)}function O(e){let s;k.update(r=>(s=e-(r||0),null)),f.update(r=>r.map(n=>({...n,pauseDuration:n.pauseDuration+s})))}const N={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3};function ee(e={}){return{toasts:Q(f,r=>r.map(n=>{var c,o;return{...e,...e[n.type],...n,duration:n.duration||((c=e[n.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||N[n.type],style:[e.style,(o=e[n.type])==null?void 0:o.style,n.style].join(";")}}),r=>r),pausedAt:k}}const U=e=>typeof e=="function",x=(e,s)=>U(e)?e(s):e,q=(()=>{let e=0;return()=>(e+=1,e.toString())})(),re=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){const s=matchMedia("(prefers-reduced-motion: reduce)");e=!s||s.matches}return e}})(),z=(e,s="blank",r)=>({createdAt:Date.now(),visible:!0,type:s,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||q()}),g=e=>(s,r)=>{const n=z(s,e,r);return H(n),n.id},i=(e,s)=>g("blank")(e,s);i.error=g("error");i.success=g("success");i.loading=g("loading");i.custom=g("custom");i.dismiss=e=>{I(e)};i.remove=e=>R(e);i.promise=(e,s,r)=>{const n=i.loading(s.loading,{...r,...r==null?void 0:r.loading});return e.then(c=>(i.success(x(s.success,c),{id:n,...r,...r==null?void 0:r.success}),c)).catch(c=>{i.error(x(s.error,c),{id:n,...r,...r==null?void 0:r.error})}),e};const F={background:"whitesmoke",text:"black",success:"limegreen",error:"crimson",secondary:"white",loading:"gray",loading_secondary:"lightgray"},G=p(F),{remove:J,dismiss:K}=i,se=A(G,e=>{const{background:s,text:r,secondary:n}=e,c=t=>`background: ${s}; color: ${r}; border: solid 1px ${t};`,o={style:c(e.success),iconTheme:{primary:e.success,secondary:n}},l={style:c(e.loading_secondary),iconTheme:{primary:e.loading,secondary:e.loading_secondary}},v={style:c(e.error),iconTheme:{primary:e.error,secondary:n}};return{promise:(t,a,u)=>i.promise(t,a,{success:o,loading:l,error:v,...u}),dismiss:K,plain:(t,a)=>i(t,{style:c(e.loading),...a}),success:(t,a)=>i.success(t,{...o,...a}),error:(t,a)=>i.error(t,{...v,...a}),remove:J,custom:(t,a)=>i.custom(t,{style:c(e.loading),...a}),loading:(t,a)=>i.loading(t,{...l,...a})}});export{j as a,G as b,F as c,se as d,O as e,Z as i,L as l,re as p,$ as s,i as t,ee as u};
